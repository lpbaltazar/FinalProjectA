CREATE DATABASE events_db;

CREATE USER 'rigi'@'localhost' IDENTIFIED BY 'pwd@rigi';
GRANT ALL ON events_db.* TO 'rigi'@'localhost';

USE events_db;

DROP TABLE IF EXISTS events_data;
CREATE TABLE events_data (
    CALID DATE,
    PROPERTYID INT,
    SRC CHAR,
    ACTIVITY CHAR,
    USERID VARCHAR,
    PRIMARY_FINGERPRINT VARCHAR,
    USER_BROWSER VARCHAR,
    USER_BROWSER_VERSION VARCHAR,
    USER_OS VARCHAR,
    USER_OS_VERSION VARCHAR,
    USER_HOSTADDRESS VARCHAR,
    SESSIONID VARCHAR,
    ORIGINAL_VIDEO_CONTENT_ID VARCHAR,
    VIDEO_CONTENT_ID INT,
    VIDEO_CONTENT_TITLE VARCHAR,
    ORIGINAL_VIDEO_CATEGORY_ID VARCHAR,
    VIDEO_CATEGORY_ID INT,
    VIDEO_CATEGORY_TITLE VARCHAR,
    VIDEO_TYPE CHAR,
    VIDEO_DURATION FLOAT,
    SESSION_STARTDT DATETIME,
    SESSION_ENDDT DATETIME,
    CLICK_COUNT INT,
    ADPLAY_COUNT INT,
    PLAY_COUNT INT,
    PAUSE_COUNT INT,
    RESUME_COUNT INT,
    AB_FLAG INT,
    SEEK_COUNT INT,
    BUFFER_COUNT INT,
    TOTAL_BUFFER_TIME FLOAT,
    MAX_BUFFER_TIME FLOAT,
    USR_TOT_WATCHING_DUR FLOAT,
    USR_ACT_TOT_WATCHING_DUR FLOAT,
    ISP_PROVIDER VARCHAR,
    ISMOBILE INT,
    MOBILE_DEVICE VARCHAR,
    ISP_TAG INT,
    NUMBER_USED INT,
    CURRENCY CHAR,
    AMOUNT FLOAT,
    FREE_ACCESS_TAG INT,
    PRODUCTTYPE VARCHAR,
    PRODUCTNAME VARCHAR,
    PARTNER VARCHAR,
    MOBILETYPE VARCHAR,
    SESSION_STARTDT_YEAR INT,
    SESSION_STARTDT_MONTH INT,
    SESSION_STARTDT_DAY INT,
    APP_TAG INT,
    THREE_G_TAG VARCHAR,
    CONTENT_TYPE VARCHAR,
    VERIFIED VARCHAR,
    IPCOUNTRY CHAR,
    SUBDIVISION_1 VARCHAR,
    SUBDIVISION_2 VARCHAR,
    IPCITY VARCHAR,
    SOURCESCRIPT VARCHAR,
    IS_KNOWN INT,
    APP_VERSION VARCHAR,
    MODIFIEDDATE DATE
);